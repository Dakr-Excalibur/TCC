"use strict";jQuery(document).ready(function(i){var t=i(".cd-user-modal"),s=t.find("#cd-login"),n=t.find("#cd-signup"),a=t.find("#cd-reset-password"),e=i(".cd-switcher"),r=e.children("li").eq(0).children("a"),o=e.children("li").eq(1).children("a"),d=s.find(".cd-form-bottom-message a"),l=a.find(".cd-form-bottom-message a"),h=i(".main-nav");function c(){s.addClass("is-selected"),n.removeClass("is-selected"),a.removeClass("is-selected"),r.addClass("selected"),o.removeClass("selected")}function u(){s.removeClass("is-selected"),n.addClass("is-selected"),a.removeClass("is-selected"),r.removeClass("selected"),o.addClass("selected")}h.on("click",function(e){i(e.target).is(h)?i(this).children("ul").toggleClass("is-visible"):(h.children("ul").removeClass("is-visible"),t.addClass("is-visible"),i(e.target).is(".cd-signup")?u():c())}),i(".cd-user-modal").on("click",function(e){(i(e.target).is(t)||i(e.target).is(".cd-close-form"))&&t.removeClass("is-visible")}),i(document).keyup(function(e){"27"==e.which&&t.removeClass("is-visible")}),e.on("click",function(e){e.preventDefault(),i(e.target).is(r)?c():u()}),i(".hide-password").on("click",function(){var e=i(this),t=e.prev("input");"password"==t.attr("type")?t.attr("type","text"):t.attr("type","password"),"Hide"==e.text()?e.text("Show"):e.text("Hide"),t.putCursorAtEnd()}),d.on("click",function(e){e.preventDefault(),s.removeClass("is-selected"),n.removeClass("is-selected"),a.addClass("is-selected")}),l.on("click",function(e){e.preventDefault(),c()}),Modernizr.input.placeholder||(i("[placeholder]").focus(function(){var e=i(this);e.val()==e.attr("placeholder")&&e.val("")}).blur(function(){var e=i(this);""!=e.val()&&e.val()!=e.attr("placeholder")||e.val(e.attr("placeholder"))}).blur(),i("[placeholder]").parents("form").submit(function(){i(this).find("[placeholder]").each(function(){var e=i(this);e.val()==e.attr("placeholder")&&e.val("")})}))}),jQuery.fn.putCursorAtEnd=function(){return this.each(function(){this.setSelectionRange?this.setSelectionRange(len,len):$(this).val($(this).val())})},window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var width,height,starCount,circleRadius,circleCenter,starDensity=.956,speedCoeff=.1,first=!0,giantColor="212, 251, 255",starColor="0, 255, 0",cometColor="255, 221, 157",canva=document.getElementById("universe"),stars=[];function createUniverse(){universe=canva.getContext("2d");for(var e=0;e<starCount;e++)stars[e]=new Star,stars[e].reset();draw()}function draw(){universe.clearRect(0,0,width,height);for(var e=stars.length,t=0;t<e;t++){var i=stars[t];i.move(),i.fadeIn(),i.fadeOut(),i.draw()}window.requestAnimationFrame(draw)}function Star(){this.reset=function(){this.giant=getProbability(3),this.comet=!this.giant&&!first&&getProbability(10),this.x=getRandInterval(0,width-8),this.y=getRandInterval(0,height),this.r=getRandInterval(1.1,2.6),this.dx=getRandInterval(speedCoeff,7*speedCoeff)+(this.comet+1-1)*speedCoeff*getRandInterval(60,120)+2*speedCoeff,this.dy=-getRandInterval(speedCoeff,7*speedCoeff)-(this.comet+1-1)*speedCoeff*getRandInterval(60,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=getRandInterval(.2,1-.4*(this.comet+1-1)),this.do=getRandInterval(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=!(this.opacity>this.opacityTresh),this.opacity+=this.do)},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=!(this.opacity<0),this.opacity-=this.do/2,(this.x>width||this.y<0)&&(this.fadingOut=!1,this.reset()))},this.draw=function(){if(universe.beginPath(),this.giant)universe.fillStyle="rgba("+giantColor+","+this.opacity+")",universe.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){universe.fillStyle="rgba("+cometColor+","+this.opacity+")",universe.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var e=0;e<30;e++)universe.fillStyle="rgba("+cometColor+","+(this.opacity-this.opacity/20*e)+")",universe.rect(this.x-this.dx/4*e,this.y-this.dy/4*e-2,2,2),universe.fill()}else universe.fillStyle="rgba("+starColor+","+this.opacity+")",universe.rect(this.x,this.y,this.r,this.r);universe.closePath(),universe.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&&this.reset(),(this.x>width-width/4||this.y<0)&&(this.fadingOut=!0)},setTimeout(function(){first=!1},50)}function getProbability(e){return Math.floor(1e4*Math.random())+10<30*e}function getRandInterval(e,t){return Math.random()*(t-e)+e}function windowResizeHandler(){width=window.innerWidth,height=window.innerHeight,starCount=width*starDensity,circleRadius=height<width?height/2:width/2,circleCenter={x:width/2,y:height/2},canva.setAttribute("width",width),canva.setAttribute("height",height)}windowResizeHandler(),window.addEventListener("resize",windowResizeHandler,!1),createUniverse();